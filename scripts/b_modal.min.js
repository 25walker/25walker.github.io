const modal={callOpen:()=>{modal.opener=document.activeElement,openModal()},callClose:()=>{closeModal(modal.opener)},handleOverlayClick:e=>{"overlay"===e.target.className&&closeModal(modal.opener)}};function openModal(){setVisibile(!0),setFocus(),setInertBehindModal(!0)}function closeModal(e){setVisibile(!1),setInertBehindModal(!1),e.focus()}function attachEventListener(e,o,l){e.forEach((e=>{e.addEventListener("click",modal.callOpen)})),o.forEach((e=>{e.addEventListener("click",modal.callClose)})),l.addEventListener("click",modal.handleOverlayClick),window.addEventListener("keydown",clallIfEscPress)}function setVisibile(e){const o=e?"block":"none";document.querySelector(".overlay").style.display=o}function setFocus(){console.log("set focus"),console.log(document.activeElement),document.querySelector(".modal").focus()}function setInertBehindModal(e){const o=document.querySelector("main");o.inert=e,o.setAttribute("aria-hidden",e)}function clallIfEscPress(e){"Escape"===e.key&&modal.callClose()}const openButtons=document.querySelectorAll(".open-modal"),closeButtons=document.querySelectorAll(".close-modal"),overlay=document.querySelector(".overlay");attachEventListener(openButtons,closeButtons,overlay);