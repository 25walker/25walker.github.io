<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>25 Walker</title>
  <link rel="icon" type="image/svg+xml" href="assets/icon.svg" />


  <link rel="stylesheet" href="style.min.css">

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>


  <script src="scripts/a_script.min.js" defer></script>
  <script src="scripts/b_modal.min.js" defer></script>
  <script src="scripts/c_form.min.js" defer></script>

  <!-- <script src="script.min.js" type="module"></script> -->
</head>

<body class="mind" aria-haspopup="dialog">

  <!--  usa css, from https://codepen.io/norhan22/pen/OdawyN -->
  <div class="loadingScreen">
    <div class="pseudoBg"></div>
    <h3 class="loadingScreen__text"> <span class="loadingScreen__text__span">l</span><span class="loadingScreen__text__span">o</span><span class="loadingScreen__text__span">a</span><span class="loadingScreen__text__span">d</span><span class="loadingScreen__text__span">i</span><span class="loadingScreen__text__span">n</span><span class="loadingScreen__text__span">g</span>
    </h3>
  </div>



  <main class="">
    <header class="on-top">
      <span>
        <h1>25walker</h1>
      </span>
      <span id="time">01:23</span>
      <div>
        <!-- <button>Star on Github</button> -->
        <a href="https://github.com/25walker/25walker.github.io" target="_blank" rel="noopener noreferrer" class="btn">Star on Github</a>
      </div>
    </header>

    <section id="bookmarks" class="bg--white">
      <h2>ALL BOOKMARKS</h2>
      <div id="allBookmarks">
      </div>
    </section>


    <section id="myThings" class="whenSignedIn">
      <div id="userDetails" class="mx-auto grid"></div>
      <div id="myThingsList"></div>
    </section>



    <section class="on-bottom grid">
      <button class="open-modal whenSignedIn">ADD BOOKMARK</button>

      <div class="grid-auto-flow-column">

        <div class="whenSignedOut">
          <button id="signInBtn" class="btn--primary mx-auto">
            <img aria-hidden="true" src='https://developers.google.com/identity/images/g-logo.png'>
            <p class="grid">Sign In with Google <small>[to add your bookmarks]</small></p>
          </button>
        </div>

        <button id="signOutBtn" class="whenSignedIn btn--primary grows">Sign Out</button>

        <!-- <div class="grows">
          <input type="search" id="searchInput" placeholder="">
        </div> -->

        <!-- <div class="whenSignedIn"> -->
        <!-- .grid -->
        <a href="#bookmarks" class="whenSignedIn btn">All Bookmarks</a>
        <a href="#myThings" class="whenSignedIn btn">My Bookmarks</a>
        <!-- </div> -->
      </div>
    </section>
  </main>

  <div class="overlay" role="dialog" aria-modal="true" aria-live="assertive" aria-labelledby="modal-title">
    <div class="modal">
      <button class="close-modal on-top-right" aria-label="Close">
        <small>Close (Esc)</small>
      </button>
      <h2 id="modal-title">Bookmark details</h2>
      <form id="supabaseForm">
        <label for="urlInput">Url*</label>
        <input type="text" id="urlInput" required pattern="https?://.+" autofocus>
        <label for="titleInput">Title*</label>
        <input type="text" id="titleInput">
        <label for="descInput">Description</label>
        <textarea id="descInput"></textarea>
        <label for="pointsInput">Points</label>
        <input type="number" id="pointsInput" step="2" min="4" max="10">
        <label for="tagsInput">Tags</label>
        <!-- <div class="relative">
          <input type="text" id="tagsInput">
          <button type="button" onclick="addTag()" class="on-top-right"><small>Add Tag</small></button>
        </div> -->
        <div class="flex">
          <input type="text" id="tagsInput">
          <button type="button" onclick="addTag()" class=""><small class="text-nowrap">Add Tag</small></button>
        </div>

        <div id="tagsContainer"></div>
        <button type="button" id="createThing">Submit</button>
      </form>
      <button class="close-modal mt">
        Close
      </button>
    </div>
  </div>

  <script>
    let prevScrollPos = window.pageYOffset;
    const header = document.querySelector('.on-top');

    window.addEventListener('scroll', function () {
      const currentScrollPos = window.pageYOffset;

      if (prevScrollPos > currentScrollPos) {
        header.classList.remove('oculto');
      } else {
        header.classList.add('oculto');
      }

      prevScrollPos = currentScrollPos;
    });
  </script>
</body>

</html>